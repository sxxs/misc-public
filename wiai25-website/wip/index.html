<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WIAI25 – 25 Jahre Fakultät WIAI</title>
    <link rel="stylesheet" href="style.css">
    <script src="lz-string.min.js"></script>
</head>
<body class="bg-white text-neutral-900 font-sans antialiased">

    <!-- Navigation -->
    <nav class="bg-white px-6 py-4 border-b border-neutral-200">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="bg-black text-primary font-mono font-bold px-3 py-1 text-lg">WIAI25</div>
                <span class="text-neutral-500 text-sm hidden sm:inline">Universität Bamberg</span>
            </div>
            <div class="flex items-center gap-6">
                <a href="#programm" class="text-sm text-neutral-600 hover:text-black hidden md:inline">Programm</a>
                <a href="#geschichten" class="text-sm text-neutral-600 hover:text-black hidden md:inline">Geschichten</a>
                <a href="#save-the-date" class="text-sm font-bold bg-primary hover:bg-primary-dark px-6 py-3 transition-colors">
                    Save the Date
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <section class="bg-black text-white relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-6 py-20 lg:py-28">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">

                <!-- Left: Typography -->
                <div class="relative z-10">
                    <div class="font-mono text-primary text-sm mb-6 tracking-wider">
                        26. JUNI 2026 · ERBA-CAMPUS BAMBERG
                    </div>

                    <h1 class="text-6xl lg:text-8xl font-black leading-[0.9] mb-8 tracking-tight font-display">
                        <span class="block">FÜNFUND-</span>
                        <span class="block text-primary">ZWANZIG</span>
                        <span class="block">JAHRE</span>
                    </h1>

                    <p class="text-xl text-neutral-400 max-w-md mb-10 leading-relaxed">
                        Menschzentrierte Informatik an der Uni Bamberg.
                        Vorträge, Demos, Mitmachen, Feiern.
                    </p>

                    <div class="flex flex-wrap gap-4">
                        <a href="#programm" class="bg-primary text-black px-8 py-4 font-bold hover:bg-primary-dark transition-colors border-2 border-transparent">
                            Was passiert
                        </a>
                        <a href="#save-the-date" class="border-2 border-white px-8 py-4 font-bold hover:bg-white hover:text-black transition-colors">
                            Dabei sein
                        </a>
                    </div>
                </div>

                <!-- Right: WIAI25 Animation -->
                <div class="relative">
                    <div class="aspect-square max-w-lg mx-auto relative">
                        <!-- Background glow -->
                        <div class="absolute inset-0 bg-primary/10 blur-3xl"></div>

                        <!-- Canvas Container -->
                        <div id="viewer-container" class="relative w-full h-full">
                            <canvas id="display-canvas" class="w-full h-full"></canvas>
                        </div>

                        <!-- Info Button (outside viewer-container for visibility) -->
                        <button id="viewer-info-btn" class="absolute top-3 right-3 z-10 flex items-center text-neutral-400 hover:text-white transition-all group bg-black/50 rounded-full p-1.5 hover:bg-black/70 hover:pr-2">
                            <span class="text-xs max-w-0 overflow-hidden whitespace-nowrap group-hover:max-w-[7rem] transition-all duration-200 group-hover:mr-1">Was ist das?</span>
                            <!-- Heroicon: question-mark-circle (solid) -->
                            <svg class="w-5 h-5 flex-shrink-0" viewBox="0 0 24 24" fill="currentColor">
                                <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Diagonal bottom -->
        <div class="absolute bottom-0 left-0 right-0 h-16 bg-primary" style="clip-path: polygon(0 100%, 100% 0, 100% 100%, 0 100%);"></div>
    </section>

    <!-- Yellow Band: Stats -->
    <section class="bg-primary py-8">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex flex-wrap justify-between items-center gap-8">
                <div class="font-black text-2xl lg:text-3xl tracking-wide font-display">
                    DIE WIAI HEUTE
                </div>
                <div class="flex flex-wrap gap-8 lg:gap-16">
                    <div>
                        <span class="font-mono font-bold text-3xl lg:text-4xl tabular-nums">33</span>
                        <span class="text-sm ml-2 opacity-70">Professuren</span>
                    </div>
                    <div>
                        <span class="font-mono font-bold text-3xl lg:text-4xl tabular-nums">>1.600</span>
                        <span class="text-sm ml-2 opacity-70">Studierende</span>
                    </div>
                    <div>
                        <span class="font-mono font-bold text-3xl lg:text-4xl tabular-nums">12</span>
                        <span class="text-sm ml-2 opacity-70">Studiengänge</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Ein Tag, viele Perspektiven -->
    <section class="px-6 py-20 bg-neutral-50" id="programm">
        <div class="max-w-7xl mx-auto">

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-12">
                <!-- Left column: Heading -->
                <div class="lg:col-span-4">
                    <div class="section-heading"><span>Ein Tag, viele Perspektiven</span></div>
                    <p class="text-neutral-600 mt-6 text-lg">
                        Studierende, Alumni, Familien, Unternehmen –
                        für alle ist etwas dabei.
                    </p>
                </div>

                <!-- Right column: Cards -->
                <div class="lg:col-span-8">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

                        <div class="bg-white border-2 border-black p-8 hover:bg-neutral-50 transition-colors">
                            <div class="font-mono text-xs mb-4 uppercase tracking-wider text-neutral-500">Für Studieninteressierte</div>
                            <h3 class="font-bold text-xl mb-3">Studiengänge live</h3>
                            <p class="text-neutral-600 text-sm leading-relaxed">
                                Infos zu Bachelor und Master, Gespräche mit Studierenden, Einblick in Projekte.
                            </p>
                        </div>

                        <div class="bg-white border-2 border-neutral-200 p-8">
                            <div class="font-mono text-xs mb-4 uppercase tracking-wider text-neutral-500">Für Familien</div>
                            <h3 class="font-bold text-xl mb-3">Kinderuni</h3>
                            <p class="text-neutral-600 text-sm leading-relaxed">
                                „Smart City: Was macht eine Stadt schlau?" – Vorlesung für Kinder ab 8.
                            </p>
                        </div>

                        <div class="bg-white border-2 border-neutral-200 p-8">
                            <div class="font-mono text-xs mb-4 uppercase tracking-wider text-neutral-500">Zum Netzwerken</div>
                            <h3 class="font-bold text-xl mb-3">Begegnungen</h3>
                            <p class="text-neutral-600 text-sm leading-relaxed">
                                Ehemalige treffen Aktive, Forschende treffen Praxis.
                                25 Jahre bedeuten viele Verbindungen.
                            </p>
                        </div>

                        <div class="bg-primary p-8">
                            <div class="font-mono text-xs mb-4 uppercase tracking-wider text-amber-900/60">Für Unternehmen</div>
                            <h3 class="font-bold text-xl mb-3">Talente treffen</h3>
                            <p class="text-amber-950/70 text-sm leading-relaxed">
                                Gespräche mit Studierenden und Promovierenden, Einblick in Forschung.
                            </p>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Programm -->
    <section class="bg-white px-6 py-20 border-y border-neutral-200">
        <div class="max-w-7xl mx-auto">
            <div class="section-heading section-heading-white"><span>Ablauf</span></div>
            <p class="text-neutral-500 text-sm mt-4">Vorläufiges Programm. Änderungen vorbehalten.</p>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 mt-12">
                <div>
                    <div class="space-y-0">
                        <div class="flex border-b border-neutral-200 py-6">
                            <div class="font-mono text-primary-dark font-bold w-24 shrink-0 text-lg">14:00</div>
                            <div>
                                <div class="font-bold text-lg">Festakt für geladene Gäste</div>
                                <div class="text-neutral-500">Empfang, Keynote, Ausstellung</div>
                            </div>
                        </div>
                        <div class="flex border-b border-neutral-200 py-6">
                            <div class="font-mono text-primary-dark font-bold w-24 shrink-0 text-lg">16:00</div>
                            <div>
                                <div class="font-bold text-lg">Mitmachen</div>
                                <div class="text-neutral-500">Installationen, Stationen, Exponate</div>
                            </div>
                        </div>
                        <div class="flex border-b border-neutral-200 py-6">
                            <div class="font-mono text-primary-dark font-bold w-24 shrink-0 text-lg">17:00</div>
                            <div>
                                <div class="font-bold text-lg">Opening</div>
                                <div class="text-neutral-500">Begrüßung und Programmvorstellung</div>
                            </div>
                        </div>
                        <div class="flex border-b border-neutral-200 py-6">
                            <div class="font-mono text-primary-dark font-bold w-24 shrink-0 text-lg">17:00</div>
                            <div>
                                <div class="font-bold text-lg">Kinderuni <span class="font-normal text-sm text-neutral-400">(parallel)</span></div>
                                <div class="text-neutral-500">„Smart City: Was macht eine Stadt schlau?"<br>Vorlesung für Kinder ab 8</div>
                            </div>
                        </div>
                        <div class="flex border-b border-neutral-200 py-6">
                            <div class="font-mono text-primary-dark font-bold w-24 shrink-0 text-lg">17:30</div>
                            <div>
                                <div class="font-bold text-lg">Talks <span class="font-normal text-sm text-neutral-400">(je 45 min)</span></div>
                                <div class="text-neutral-500">Kurzvorlesungen mit Einblicken in Forschungsthemen</div>
                            </div>
                        </div>
                        <div class="flex py-6">
                            <div class="font-mono text-primary-dark font-bold w-24 shrink-0 text-lg">18:00</div>
                            <div>
                                <div class="font-bold text-lg">Feiern</div>
                                <div class="text-neutral-500">Musik, Essen, Gespräche</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div>
                    <h3 class="font-bold text-xl mb-6">Highlights</h3>
                    <div class="space-y-4">
                        <div class="flex gap-4 items-start py-3 border-b border-neutral-100">
                            <span class="bg-primary text-black font-mono text-sm font-bold px-3 py-1">01</span>
                            <span class="text-neutral-700 text-lg">Keynote von <a href="https://www.mckinsey.com/our-people/anna-wiesinger/de-DE" target="_blank" rel="noopener" class="underline hover:text-black">Dr. Anna Wiesinger</a>, WIAI-Alumna</span>
                        </div>
                        <div class="flex gap-4 items-start py-3 border-b border-neutral-100">
                            <span class="bg-primary text-black font-mono text-sm font-bold px-3 py-1">02</span>
                            <span class="text-neutral-700 text-lg">Interaktive Installationen von Studierenden</span>
                        </div>
                        <div class="flex gap-4 items-start py-3 border-b border-neutral-100">
                            <span class="bg-primary text-black font-mono text-sm font-bold px-3 py-1">03</span>
                            <span class="text-neutral-700 text-lg">Mitmach-Stationen für Groß und Klein: KI, Spiele, Robotik</span>
                        </div>
                        <div class="flex gap-4 items-start py-3 border-b border-neutral-100">
                            <span class="bg-primary text-black font-mono text-sm font-bold px-3 py-1">04</span>
                            <span class="text-neutral-700 text-lg">Studienberatung für alle Studiengänge</span>
                        </div>
                        <div class="flex gap-4 items-start py-3">
                            <span class="bg-primary text-black font-mono text-sm font-bold px-3 py-1">05</span>
                            <span class="text-neutral-700 text-lg">25 Jahre in 25 Objekten: Ausstellung zur Geschichte der Fakultät</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Geschichten -->
    <section class="px-6 py-20 bg-neutral-50" id="geschichten" data-section="geschichten">
        <div class="max-w-7xl mx-auto">

            <div class="flex flex-wrap justify-between items-end gap-6 mb-12">
                <div class="section-heading"><span>25 Geschichten aus 25 Jahren</span></div>
                <div id="story-counter" class="font-mono text-sm bg-black text-primary px-4 py-2">
                    #02 VON 25
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                <!-- Main Story Container -->
                <div class="lg:col-span-8" id="story-main">

                    <!-- Story #02 (aktuell) -->
                    <article class="bg-white border border-neutral-200" data-story="02">
                        <div class="p-8">
                            <div class="font-mono text-neutral-500 text-sm mb-2">#02 · 23. Januar 2026</div>
                            <h3 class="text-3xl font-bold mb-6">WIAI in Zahlen (2025)</h3>

                            <!-- Zahlen-Grid -->
                            <div class="grid grid-cols-3 gap-3 mb-8" id="zahlen-grid">
                                <div class="zahlen-kachel bg-neutral-100 border-2 border-neutral-200 p-4 cursor-pointer transition-all duration-300 hover:border-primary" data-expanded="false">
                                    <div class="zahlen-nummer font-mono font-bold text-4xl sm:text-5xl text-black text-center">36</div>
                                    <div class="zahlen-detail hidden mt-3 text-sm text-neutral-600 text-center">Vereidigungen an 4 Terminen</div>
                                </div>
                                <div class="zahlen-kachel bg-neutral-100 border-2 border-neutral-200 p-4 cursor-pointer transition-all duration-300 hover:border-primary" data-expanded="false">
                                    <div class="zahlen-nummer font-mono font-bold text-4xl sm:text-5xl text-black text-center">31</div>
                                    <div class="zahlen-detail hidden mt-3 text-sm text-neutral-600 text-center">Einstellungsverträge in 2025</div>
                                </div>
                                <div class="zahlen-kachel bg-neutral-100 border-2 border-neutral-200 p-4 cursor-pointer transition-all duration-300 hover:border-primary" data-expanded="false">
                                    <div class="zahlen-nummer font-mono font-bold text-4xl sm:text-5xl text-black text-center">5</div>
                                    <div class="zahlen-detail hidden mt-3 text-sm text-neutral-600 text-center">Abgeschlossene Berufungsverfahren</div>
                                </div>
                                <div class="zahlen-kachel bg-neutral-100 border-2 border-neutral-200 p-4 cursor-pointer transition-all duration-300 hover:border-primary" data-expanded="false">
                                    <div class="zahlen-nummer font-mono font-bold text-4xl sm:text-5xl text-black text-center">30</div>
                                    <div class="zahlen-detail hidden mt-3 text-sm text-neutral-600 text-center">Unterschriften des Dekans pro Woche <span class="text-neutral-500">(in einzelnen Wochen >100)</span></div>
                                </div>
                                <div class="zahlen-kachel bg-neutral-100 border-2 border-neutral-200 p-4 cursor-pointer transition-all duration-300 hover:border-primary" data-expanded="false">
                                    <div class="zahlen-nummer font-mono font-bold text-4xl sm:text-5xl text-black text-center">245</div>
                                    <div class="zahlen-detail hidden mt-3 text-sm text-neutral-600 text-center">Lehrveranstaltungen im Wintersemester</div>
                                </div>
                                <div class="zahlen-kachel bg-primary border-2 border-primary p-4 cursor-pointer transition-all duration-300 hover:bg-primary-dark" data-expanded="false">
                                    <div class="zahlen-nummer font-mono font-bold text-4xl sm:text-5xl text-black text-center">?</div>
                                    <div class="zahlen-detail hidden mt-3 text-sm text-amber-900/80 text-center">Gespülte Kaffeetassen im Dekanat: unbekannt, aber viele</div>
                                </div>
                            </div>
                            <p class="text-xs text-neutral-500 mb-8 text-center">Klicken Sie auf eine Zahl, um mehr zu erfahren</p>

                            <div class="text-neutral-600 text-lg leading-relaxed space-y-4">
                                <p>
                                    <strong class="text-neutral-800">Was passiert eigentlich im Dekanat?</strong> Die WIAI hat
                                    sich seit 2017 mehr als verdoppelt – auf aktuell 33, bald 34 Professuren. Dazu kommen über
                                    1.600 Studierende und 245 Lehrveranstaltungen pro Semester. Das Dekanat ist inzwischen
                                    ein richtig großer Bürobetrieb: Einstellungen, Berufungen, Raumplanung,
                                    Prüfungsorganisation – in den letzten zwei Semestern wurden 181 Aufsichten für zentrale
                                    Prüfungen koordiniert.
                                </p>
                                <p>
                                    Trotzdem versuchen wir, kein Massengeschäft daraus zu machen.
                                    Wer einen Raum braucht, eine Frage hat oder einen Sonderfall klären muss,
                                    bekommt keine Nummer, sondern eine Antwort.
                                </p>
                            </div>
                        </div>
                    </article>

                    <!-- Story #01 (versteckt) -->
                    <article class="bg-white border border-neutral-200 hidden" data-story="01">
                        <div class="aspect-[16/9] bg-neutral-100 overflow-hidden border-b border-neutral-200">
                            <img src="screenshot-2001.png" alt="WIAI-Website 2001" class="w-full h-full object-cover object-top">
                        </div>
                        <div class="p-8">
                            <div class="font-mono text-neutral-500 text-sm mb-2">#01 · September 2001</div>
                            <h3 class="text-3xl font-bold mb-6">Die WIAI geht online</h3>
                            <div class="text-neutral-600 text-lg leading-relaxed space-y-4">
                                <p>
                                    Am 1. Oktober 2001 nimmt die Fakultät Wirtschaftsinformatik und Angewandte
                                    Informatik offiziell den Betrieb auf. Die Website ist schon ein paar Tage
                                    früher da – der erste Eintrag unter „Aktuelles" stammt vom 20. September.
                                </p>
                                <p>
                                    Acht Lehrstühle und Professuren sind der neuen Fakultät zugeordnet, verteilt
                                    auf drei Bereiche: Angewandte Informatik, Informatik und Wirtschaftsinformatik.
                                    125 Studierende wurden für den Diplom-Studiengang Wirtschaftsinformatik
                                    zugelassen – im Jahr davor waren es noch 80. Gleichzeitig starten zwei neue
                                    Angebote: Wirtschaftspädagogik mit Schwerpunkt Informationstechnologie und
                                    der virtuelle Weiterbildungsmaster VAWi, gemeinsam mit der Universität Essen.
                                </p>
                                <p>
                                    Auf dem Foto der Startseite: die Feldkirchenstraße und das neue Rechenzentrum,
                                    gerade erst fertiggestellt. Links die Navigation, wie es sich für 2001 gehört.
                                    Und wer nach unten scrollt, findet einen Link zu FlexNow! – damals neu, heute
                                    an Hochschulen in ganz Deutschland im Einsatz. Aber das ist eine andere Geschichte.
                                </p>
                            </div>
                            <a href="https://web.archive.org/web/20011222170632if_/http://www.uni-bamberg.de:80/wiai/"
                               target="_blank"
                               rel="noopener"
                               class="inline-block mt-6 bg-black text-white px-8 py-4 font-bold hover:bg-neutral-800 transition-colors">
                                Zur Website von 2001 auf archive.org
                            </a>
                        </div>
                    </article>

                </div>

                <!-- Story Navigation -->
                <div class="lg:col-span-4">
                    <p class="text-neutral-600 mb-6">
                        Jede Woche bis zur Feier eine neue Geschichte.
                        Die 25. erzählen wir am 26. Juni.
                    </p>

                    <div class="space-y-3" id="story-nav">

                        <!-- Story #02 Navigation (aktiv) -->
                        <div
                            class="story-nav-item story-nav-active cursor-pointer p-3 transition-colors bg-black"
                            data-target="02"
                            role="button"
                            tabindex="0"
                            aria-current="true">
                            <div class="flex gap-3 items-start">
                                <div class="story-thumb w-14 h-14 bg-neutral-800 shrink-0 overflow-hidden flex items-center justify-center font-mono font-bold text-primary text-xl">36</div>
                                <div class="min-w-0">
                                    <div class="story-date font-mono text-xs text-primary">#02 · 23. Jan 2026</div>
                                    <div class="story-title font-bold text-sm text-white leading-snug mt-0.5">WIAI in Zahlen</div>
                                    <div class="story-teaser text-xs text-neutral-300 mt-1 leading-snug">Was 2025 im Dekanat passiert ist</div>
                                </div>
                            </div>
                        </div>

                        <!-- Story #01 Navigation (inaktiv) -->
                        <div
                            class="story-nav-item cursor-pointer p-3 transition-colors bg-white border border-neutral-200 hover:border-neutral-400"
                            data-target="01"
                            role="button"
                            tabindex="0">
                            <div class="flex gap-3 items-start">
                                <div class="story-thumb w-14 h-14 bg-neutral-100 shrink-0 overflow-hidden">
                                    <img src="screenshot-2001.png" alt="WIAI-Website 2001" class="w-full h-full object-cover object-top">
                                </div>
                                <div class="min-w-0">
                                    <div class="story-date font-mono text-xs text-neutral-600">#01 · 16. Jan 2026</div>
                                    <div class="story-title font-bold text-sm text-neutral-900 leading-snug mt-0.5">Die WIAI geht online</div>
                                    <div class="story-teaser text-xs text-neutral-600 mt-1 leading-snug">Am 1. Oktober 2001 startet die Fakultät.</div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- Kommende Stories -->
                    <div class="mt-6 pt-6 border-t border-neutral-200">
                        <div class="text-neutral-400 text-sm">
                            Weitere Geschichten folgen wöchentlich bis zum 26. Juni.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Über die WIAI -->
    <section class="px-6 py-16 bg-white border-y border-neutral-200">
        <div class="max-w-7xl mx-auto">
            <div class="max-w-3xl">
                <p class="text-2xl font-medium leading-relaxed text-neutral-700">
                    Die Fakultät <strong class="text-black">Wirtschaftsinformatik und Angewandte Informatik (WIAI)</strong>
                    wurde 2001 gegründet. Heute forschen und lehren hier 33 Professuren
                    an der Schnittstelle von Technik, Mensch und Gesellschaft.
                </p>
            </div>
        </div>
    </section>

    <!-- Projekte / Coming Soon -->
    <section class="bg-neutral-50 px-6 py-20" id="projekte" data-section="exponate">
        <div class="max-w-7xl mx-auto text-center">
            <div class="section-heading section-heading-white"><span>Hinter den Kulissen</span></div>
            <p class="text-neutral-500 mt-8 text-lg max-w-2xl mx-auto">
                Hier erscheinen bald Projekte von Studierenden, die ihre Arbeit
                auf dem Event ausstellen werden.
            </p>
            <p class="text-neutral-600 mt-6 text-base">
                Sie möchten Ihr Projekt hier vorstellen?
                <a href="mailto:dekanat.wiai@uni-bamberg.de" class="underline hover:text-black">Melden Sie sich im Dekanat der Fakultät.</a>
            </p>
        </div>
    </section>

    <!-- Save the Date -->
    <section class="bg-primary px-6 py-20" id="save-the-date">
        <div class="max-w-3xl mx-auto text-center">
            <h2 class="text-4xl lg:text-5xl font-black mb-4 font-display">SAVE THE DATE</h2>
            <p class="text-black/70 text-xl mb-8">
                26. Juni 2026, ab 14 Uhr<br>
                ERBA-Campus, An der Weberei 5, Bamberg
            </p>

            <a href="event.ics"
               download="event.ics"
               class="inline-flex items-center gap-3 bg-black text-primary px-8 py-5 font-black text-lg hover:bg-neutral-800 transition-colors">
                <!-- Heroicon: calendar -->
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                </svg>
                ZUM KALENDER HINZUFÜGEN
            </a>

            <p class="text-black/50 text-sm mt-6">
                Die Anmeldung öffnet im Frühjahr 2026.
            </p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black text-white px-6 py-16">
        <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
                <div class="md:col-span-2">
                    <div class="font-mono font-bold text-primary text-xl mb-4">WIAI25</div>
                    <p class="text-neutral-400 max-w-sm mb-4">
                        26.06.2026 – 25 Jahre Fakultät Wirtschaftsinformatik und Angewandte Informatik
                        an der Otto-Friedrich-Universität Bamberg.
                    </p>
                    <div class="text-sm">
                        <span class="text-neutral-500">Fragen zum Event:</span>
                        <a href="mailto:dekanat.wiai@uni-bamberg.de" class="text-neutral-400 hover:text-white transition-colors ml-1">
                            dekanat.wiai@uni-bamberg.de
                        </a>
                    </div>
                </div>
                <div>
                    <div class="font-mono text-xs text-neutral-500 uppercase tracking-wider mb-4">Jubiläum</div>
                    <div class="flex flex-col gap-3 text-sm">
                        <a href="#programm" class="text-neutral-400 hover:text-white transition-colors">Programm</a>
                        <a href="#geschichten" class="text-neutral-400 hover:text-white transition-colors">Geschichten</a>
                        <a href="#projekte" class="text-neutral-400 hover:text-white transition-colors">Projekte</a>
                        <a href="#save-the-date" class="text-neutral-400 hover:text-white transition-colors">Save the Date</a>
                    </div>
                </div>
                <div>
                    <div class="font-mono text-xs text-neutral-500 uppercase tracking-wider mb-4">Mehr</div>
                    <div class="flex flex-col gap-3 text-sm">
                        <a href="https://www.uni-bamberg.de/wiai/" class="text-neutral-400 hover:text-white transition-colors">Über die WIAI</a>
                        <a href="https://www.uni-bamberg.de/wiai/studium/studienangebot/" class="text-neutral-400 hover:text-white transition-colors">Studiengänge</a>
                        <a href="https://www.uni-bamberg.de" class="text-neutral-400 hover:text-white transition-colors">uni-bamberg.de</a>
                    </div>
                </div>
            </div>
            <div class="pt-8 border-t border-neutral-800 flex flex-wrap justify-between items-center gap-4 text-sm text-neutral-500">
                <div class="flex items-center gap-3">
                    <img src="uba-logo-social-weiss-transparent.svg" alt="Universität Bamberg" class="h-6 opacity-50">
                    <span class="text-neutral-600">·</span>
                    <span>2026 Universität Bamberg · Fakultät WIAI</span>
                </div>
                <div class="flex items-center gap-6">
                    <a href="https://www.uni-bamberg.de/impressum/" class="text-neutral-500 hover:text-white transition-colors">Impressum</a>
                    <a href="https://www.uni-bamberg.de/its/verfahrensweisen/datenschutz/datenschutzerklaerungen/webauftritt/" class="text-neutral-500 hover:text-white transition-colors">Datenschutz</a>
                    <span class="font-mono text-primary">26.06.2026</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Viewer Info Overlay -->
    <div id="viewer-info-overlay" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.9); z-index: 9999; padding: 24px; overflow-y: auto;">
        <div style="background: #171717; border: 1px solid #404040; max-width: min(42rem, 90vw); width: 100%; padding: 32px 40px; position: relative; color: white; margin: 0 auto;">
            <button id="viewer-info-close" style="position: absolute; top: 16px; right: 16px; color: #a3a3a3; background: none; border: none; cursor: pointer;">
                <svg style="width: 24px; height: 24px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
            <h3 style="font-size: 1.5rem; font-weight: bold; margin-bottom: 20px;">Wie funktioniert das?</h3>
            <div style="color: #e5e5e5; font-size: 1.0625rem; line-height: 1.7;">
                <p style="margin-bottom: 20px;">
                    In 25 Jahren WIAI haben wir gelernt: Die besten Ergebnisse entstehen gemeinsam.
                    Ob im Hörsaal, im Projekt oder jetzt beim Logo – jeder kleine Beitrag zählt.
                    Das spiegelt auch wider, was Informatik im Kern ausmacht: Aus vielen einzelnen Bits wird etwas Großes.
                </p>
                <h4 style="font-weight: bold; margin-bottom: 8px;">Was hier zu sehen ist</h4>
                <p style="margin-bottom: 20px;">
                    Das WIAI25-Logo entsteht kollaborativ – Pixel für Pixel. Kein fertiges Bild,
                    sondern ein wachsendes Kunstwerk. Mit jedem neuen Pixel enthüllt sich ein weiteres Stück des Jubiläumslogos.
                </p>
                <h4 style="font-weight: bold; margin-bottom: 8px;">Wie es funktioniert</h4>
                <p>
                    Alle 60 Sekunden fragt die Seite den aktuellen Pixelstand ab. Steigt der Zähler,
                    wird der nächste Frame geladen. So lässt sich in Echtzeit beobachten, wie das Logo wächst –
                    genau wie die Fakultät in den letzten 25 Jahren.
                </p>
            </div>
        </div>
    </div>

    <!-- WIAI25 Viewer Script -->
    <script>
        // ========== VIEWER CONFIGURATION ==========
        const VIEWER_CONFIG = {
            framesUrl: 'frames.json',
            currentUrl: 'current.json',
            introDuration: 0.6,
            fadeDuration: 1.5,
            fadeDelay: 0,
            pulseDuration: 0.8,
            pulsePause: 1.0,
            // Live-Polling Configuration
            counterUrl: 'https://wiai25.de/wiai.json',
            defaultFrame: 174,  // Fallback wenn Backend nicht erreichbar - wöchentlich anpassen!
            pollDelayAfterMinute: 5000,  // 5s nach Minutenwechsel (Backend-Cron läuft dann)
            transitionDuration: 0.8  // Sekunden für Frame-Übergang
        };

        // ========== STATE ==========
        let frameData = null;
        let config = null;
        let currentFrame = 0;
        let pulsePhase = 0;
        let isIntroPlaying = false;
        let isTransitioning = false;
        let isVisible = true;
        let animationId = null;
        let pollIntervalId = null;
        let pollTimeoutId = null;
        let lastTotal = null;

        // DOM elements
        const canvas = document.getElementById('display-canvas');
        const ctx = canvas.getContext('2d');
        const container = document.getElementById('viewer-container');

        // ========== DATA LOADING ==========

        async function loadFrameData() {
            try {
                const url = VIEWER_CONFIG.framesUrl + '?t=' + Date.now();
                const response = await fetch(url, { cache: 'no-store' });
                if (!response.ok) throw new Error(`HTTP ${response.status}`);

                const text = await response.text();
                let data;
                if (text.trim().startsWith('{')) {
                    data = JSON.parse(text);
                } else {
                    const decompressed = LZString.decompressFromBase64(text);
                    data = JSON.parse(decompressed);
                }
                return data;
            } catch (error) {
                throw new Error(`Failed to load frames: ${error.message}`);
            }
        }

        async function loadCurrentFrame() {
            try {
                const url = VIEWER_CONFIG.currentUrl + '?t=' + Date.now();
                const response = await fetch(url, { cache: 'no-store' });
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                const data = await response.json();
                return data.currentFrame || data.frame || 0;
            } catch (error) {
                console.warn('Could not load current frame, using last frame:', error);
                return -1;
            }
        }

        // ========== LIVE POLLING ==========

        function epochMinute() {
            return Math.floor(Date.now() / 60000);
        }

        function msToNextMinute() {
            const now = Date.now();
            const next = (epochMinute() + 1) * 60000;
            return next - now;
        }

        async function fetchCounter() {
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 5000);

            try {
                const url = `${VIEWER_CONFIG.counterUrl}?t=${epochMinute()}`;
                const response = await fetch(url, {
                    cache: 'no-store',
                    signal: controller.signal
                });
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                return await response.json();
            } finally {
                clearTimeout(timeoutId);
            }
        }

        async function checkForNewFrame() {
            if (isIntroPlaying || isTransitioning || !frameData) return;

            try {
                const data = await fetchCounter();
                const total = Number(data.total ?? 0);
                const maxFrame = frameData.frames.twoLine.length - 1;
                const targetFrame = Math.min(total, maxFrame);

                if (lastTotal === null) {
                    lastTotal = total;
                    return;
                }

                if (targetFrame > currentFrame) {
                    lastTotal = total;  // Update state before animation
                    console.log(`New frame: ${currentFrame} → ${targetFrame}`);
                    animateToFrame(targetFrame);
                }
            } catch (error) {
                console.debug('Counter fetch failed:', error);
                // Graceful degradation: keep current state
            }
        }

        function animateToFrame(targetFrame) {
            if (isTransitioning) return;
            isTransitioning = true;

            // Stop current pulse animation
            if (animationId) {
                cancelAnimationFrame(animationId);
                animationId = null;
            }

            const startFrame = currentFrame;
            const startTime = performance.now();
            const duration = VIEWER_CONFIG.transitionDuration * 1000;

            function animate(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);

                // Ease-out cubic for smooth deceleration
                const eased = 1 - Math.pow(1 - progress, 3);

                const frameFloat = startFrame + (targetFrame - startFrame) * eased;
                const frame = Math.floor(frameFloat);

                renderFrame(frame, progress < 1 ? 'intro' : 'pulse');

                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    currentFrame = targetFrame;
                    isTransitioning = false;
                    startPulseAnimation();
                }
            }

            requestAnimationFrame(animate);
        }

        let isPollingActive = false;

        function startPolling() {
            if (isPollingActive) return;
            isPollingActive = true;

            // Initial check
            checkForNewFrame();

            // Align to minute boundary + delay for backend cron
            const firstDelay = msToNextMinute() + VIEWER_CONFIG.pollDelayAfterMinute;
            pollTimeoutId = setTimeout(() => {
                checkForNewFrame();
                pollIntervalId = setInterval(checkForNewFrame, 60000);
            }, firstDelay);
        }

        function stopPolling() {
            isPollingActive = false;
            if (pollIntervalId) clearInterval(pollIntervalId);
            if (pollTimeoutId) clearTimeout(pollTimeoutId);
            pollIntervalId = null;
            pollTimeoutId = null;
        }

        // ========== RENDERING UTILITIES ==========

        function factorial(n) {
            if (n <= 1) return 1;
            let result = 1;
            for (let i = 2; i <= n; i++) result *= i;
            return result;
        }

        function evaluateBezierCurve(points, t) {
            const n = points.length - 1;
            let result = 0;
            for (let i = 0; i <= n; i++) {
                const binomial = factorial(n) / (factorial(i) * factorial(n - i));
                const basis = binomial * Math.pow(1 - t, n - i) * Math.pow(t, i);
                result += points[i][1] * basis;
            }
            return Math.max(0, Math.min(1, result));
        }

        function interpolateValue(startVal, endVal, progress) {
            return startVal + (endVal - startVal) * progress;
        }

        function fadeColor(hexColor, bgColor, amount) {
            const r = parseInt(hexColor.slice(1, 3), 16);
            const g = parseInt(hexColor.slice(3, 5), 16);
            const b = parseInt(hexColor.slice(5, 7), 16);
            const bgR = parseInt(bgColor.slice(1, 3), 16);
            const bgG = parseInt(bgColor.slice(3, 5), 16);
            const bgB = parseInt(bgColor.slice(5, 7), 16);
            const newR = Math.round(r + (bgR - r) * amount);
            const newG = Math.round(g + (bgG - g) * amount);
            const newB = Math.round(b + (bgB - b) * amount);
            return `rgb(${newR}, ${newG}, ${newB})`;
        }

        function getFadeForPixel(drawnAtFrame, currentFrame, totalFrames) {
            const drawProgress = totalFrames > 0 ? drawnAtFrame / totalFrames : 0;
            const fadeEveryN = Math.max(1, Math.round(interpolateValue(
                config.fadeEveryNPixelsStart,
                config.fadeEveryNPixelsEnd,
                drawProgress
            )));
            const maxFadeSteps = Math.max(1, Math.round(interpolateValue(
                config.maxFadeStepsStart,
                config.maxFadeStepsEnd,
                drawProgress
            )));
            const framesSince = currentFrame - drawnAtFrame;
            const fadeSteps = Math.floor(framesSince / fadeEveryN);
            const t = Math.min(fadeSteps / maxFadeSteps, 1);
            return evaluateBezierCurve(config.fadeCurve, t);
        }

        function getMaxFadeForLevel(pixelLevel) {
            if (config.fadeLimitLevels === 0 || pixelLevel > config.fadeLimitLevels) {
                return 1.0;
            }
            return 1.0 - pixelLevel * config.fadeLimitStep;
        }

        // ========== MAIN RENDERING ==========

        function renderFrame(frameIndex, highlightMode = 'pulse') {
            const pixels = frameData.frames.twoLine;
            const totalFrames = pixels.length;

            ctx.clearRect(0, 0, config.canvasWidth, config.canvasHeight);

            for (let i = 0; i <= frameIndex && i < pixels.length; i++) {
                const pixel = pixels[i];
                const rawFadeAmount = getFadeForPixel(pixel.drawnAtFrame, frameIndex, totalFrames);
                const maxFade = getMaxFadeForLevel(pixel.level);
                const fadeAmount = Math.min(rawFadeAmount, maxFade, 0.95);

                const useAlphaFade = config.fadeLimitLevels > 0 && pixel.level <= config.fadeLimitLevels;

                if (useAlphaFade) {
                    ctx.fillStyle = config.pixelColor;
                    ctx.globalAlpha = config.pixelOpacity * (1 - fadeAmount);
                } else {
                    const fadedColor = fadeColor(config.pixelColor, config.bgColor, fadeAmount);
                    ctx.fillStyle = fadedColor;
                    ctx.globalAlpha = config.pixelOpacity;
                }

                ctx.fillRect(pixel.x, pixel.y, pixel.size, pixel.size);
            }

            if (highlightMode !== 'none' && frameIndex >= 0 && frameIndex < pixels.length) {
                const newestPixel = pixels[frameIndex];

                if (highlightMode === 'intro') {
                    const introGlowSize = 6;
                    ctx.shadowColor = '#ffffff';
                    ctx.shadowBlur = 15;
                    ctx.fillStyle = '#ffffff';
                    ctx.globalAlpha = 0.8;
                    ctx.fillRect(
                        newestPixel.x - introGlowSize / 2,
                        newestPixel.y - introGlowSize / 2,
                        newestPixel.size + introGlowSize,
                        newestPixel.size + introGlowSize
                    );
                    ctx.shadowBlur = 0;
                    ctx.fillStyle = config.pixelColor;
                    ctx.globalAlpha = 1;
                    ctx.fillRect(newestPixel.x, newestPixel.y, newestPixel.size, newestPixel.size);

                } else {
                    const normalizedPhase = (Math.sin(pulsePhase) + 1) / 2;
                    let easedPhase;
                    switch (config.pulseCurve) {
                        case 'ease-in':
                            easedPhase = normalizedPhase * normalizedPhase;
                            break;
                        case 'ease-out':
                            easedPhase = 1 - (1 - normalizedPhase) * (1 - normalizedPhase);
                            break;
                        case 'ease-in-out':
                            easedPhase = normalizedPhase < 0.5
                                ? 2 * normalizedPhase * normalizedPhase
                                : 1 - Math.pow(-2 * normalizedPhase + 2, 2) / 2;
                            break;
                        default:
                            easedPhase = normalizedPhase;
                    }

                    const sizeIncrease = easedPhase * config.pulseScalePixels;
                    const scaledSize = newestPixel.size + sizeIncrease;
                    const offset = sizeIncrease / 2;

                    const brightenAmount = easedPhase * config.pulseBrightness;
                    const r = parseInt(config.pixelColor.slice(1, 3), 16);
                    const g = parseInt(config.pixelColor.slice(3, 5), 16);
                    const b = parseInt(config.pixelColor.slice(5, 7), 16);
                    const brightR = Math.round(r + (255 - r) * brightenAmount);
                    const brightG = Math.round(g + (255 - g) * brightenAmount);
                    const brightB = Math.round(b + (255 - b) * brightenAmount);
                    const brightColor = `rgb(${brightR}, ${brightG}, ${brightB})`;

                    ctx.shadowColor = brightColor;
                    ctx.shadowBlur = 5 + easedPhase * config.pulseGlow * 40;
                    ctx.fillStyle = brightColor;
                    ctx.globalAlpha = Math.min(1, config.pixelOpacity + 0.1 + easedPhase * config.pulseGlow * 0.4);

                    ctx.fillRect(
                        newestPixel.x - offset,
                        newestPixel.y - offset,
                        scaledSize,
                        scaledSize
                    );

                    ctx.shadowBlur = 0;
                }
            }

            const level = frameIndex < pixels.length ? pixels[frameIndex].level : config.numLevels;
            const shouldHideOutline = config.outlineHideFromLevel > 0 && level >= config.outlineHideFromLevel;

            if (!shouldHideOutline) {
                ctx.globalAlpha = 1;
                ctx.lineJoin = 'round';
                ctx.lineWidth = config.outlineStrokeWidth;
                ctx.strokeStyle = config.outlineColor;

                const wiaiSize = config.twoLineWiaiSize;
                const num25Size = config.twoLine25Size;
                const gap = config.twoLineGap;
                const totalHeight = wiaiSize + gap + num25Size;
                const startY = (config.canvasHeight - totalHeight) / 2 + config.textOffsetY;

                ctx.textAlign = 'center';
                ctx.font = `700 ${wiaiSize}px "${config.fontFamily}"`;
                ctx.textBaseline = 'top';
                ctx.strokeText('WIAI', config.canvasWidth / 2, startY);

                ctx.font = `700 ${num25Size}px "${config.fontFamily}"`;
                ctx.strokeText('25', config.canvasWidth / 2, startY + wiaiSize + gap);
            }
        }

        // ========== ANIMATION CONTROL ==========

        function startIntroAnimation(targetFrame) {
            isIntroPlaying = true;
            const startTime = performance.now();
            const duration = VIEWER_CONFIG.introDuration * 1000;

            // Start fade-in
            setTimeout(() => {
                container.style.transition = `opacity ${VIEWER_CONFIG.fadeDuration}s ease-in-out`;
                container.style.opacity = '1';
            }, VIEWER_CONFIG.fadeDelay * 1000);

            function animateIntro(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);

                // Ease-in-out (S-curve)
                const eased = progress < 0.5
                    ? 2 * progress * progress
                    : 1 - Math.pow(-2 * progress + 2, 2) / 2;

                // Interpolate frame smoothly
                const frameFloat = eased * targetFrame;
                const frame = Math.floor(frameFloat);

                renderFrame(frame, progress < 1 ? 'intro' : 'pulse');

                if (progress < 1) {
                    requestAnimationFrame(animateIntro);
                } else {
                    isIntroPlaying = false;
                    currentFrame = targetFrame;
                    startPulseAnimation();
                }
            }

            requestAnimationFrame(animateIntro);
        }

        function startPulseAnimation() {
            let lastRenderTime = 0;
            const minFrameInterval = 1000 / 8;
            const cycleDuration = VIEWER_CONFIG.pulseDuration + VIEWER_CONFIG.pulsePause;
            let cycleStart = performance.now();

            function animate(currentTime) {
                animationId = requestAnimationFrame(animate);

                if (!isVisible) {
                    return;
                }

                if (currentTime - lastRenderTime < minFrameInterval) {
                    return;
                }
                lastRenderTime = currentTime;

                // Calculate where we are in the pulse cycle
                const cycleTime = ((currentTime - cycleStart) / 1000) % cycleDuration;

                if (cycleTime < VIEWER_CONFIG.pulseDuration) {
                    // Pulsing phase: single pulse (0 to PI)
                    pulsePhase = (cycleTime / VIEWER_CONFIG.pulseDuration) * Math.PI;
                } else {
                    // Pause phase: keep at 0
                    pulsePhase = 0;
                }

                renderFrame(currentFrame, 'pulse');
            }
            animationId = requestAnimationFrame(animate);
        }

        function setupVisibilityObserver() {
            const observer = new IntersectionObserver(
                (entries) => {
                    entries.forEach(entry => {
                        isVisible = entry.isIntersecting;
                    });
                },
                { threshold: 0.1 }
            );
            observer.observe(container);
        }

        // ========== INITIALIZATION ==========

        async function initViewer() {
            try {
                const data = await loadFrameData();
                frameData = data;
                config = data.config;

                canvas.width = config.canvasWidth;
                canvas.height = config.canvasHeight;

                const pixels = frameData.frames.twoLine;
                const maxFrame = pixels.length - 1;

                // Try to get current frame from live backend
                let targetFrame;
                try {
                    const counterData = await fetchCounter();
                    const total = Number(counterData.total ?? 0);
                    targetFrame = Math.min(total, maxFrame);
                    lastTotal = total;
                } catch (e) {
                    // Backend nicht erreichbar - Fallback verwenden
                    console.warn('Backend not reachable, using default frame:', e);
                    targetFrame = Math.min(VIEWER_CONFIG.defaultFrame, maxFrame);
                    lastTotal = targetFrame;
                }

                await document.fonts.ready;
                setupVisibilityObserver();
                startIntroAnimation(targetFrame);

                // Start polling after init (checks isIntroPlaying internally)
                startPolling();

            } catch (error) {
                console.error('Viewer init error:', error);
            }
        }

        // BFCache handler: restart polling when page is restored from cache
        window.addEventListener('pageshow', (event) => {
            if (event.persisted) {
                stopPolling();
                startPolling();
            }
        });

        initViewer();

        // ========== INFO OVERLAY ==========
        const infoBtn = document.getElementById('viewer-info-btn');
        const infoOverlay = document.getElementById('viewer-info-overlay');
        const infoClose = document.getElementById('viewer-info-close');

        infoBtn.addEventListener('click', () => {
            infoOverlay.style.display = 'block';
            document.body.style.overflow = 'hidden';
        });

        infoClose.addEventListener('click', () => {
            infoOverlay.style.display = 'none';
            document.body.style.overflow = '';
        });

        infoOverlay.addEventListener('click', (e) => {
            if (e.target === infoOverlay) {
                infoOverlay.style.display = 'none';
                document.body.style.overflow = '';
            }
        });
    </script>

    <!-- Story Navigation Script -->
    <script>
        (function() {
            const storyMain = document.getElementById('story-main');
            const storyNav = document.getElementById('story-nav');
            const storyCounter = document.getElementById('story-counter');

            if (!storyNav) return;

            function showStory(storyId) {
                // Hide all stories, show selected
                storyMain.querySelectorAll('article[data-story]').forEach(story => {
                    story.classList.toggle('hidden', story.dataset.story !== storyId);
                });

                // Update navigation states
                storyNav.querySelectorAll('.story-nav-item').forEach(item => {
                    const isActive = item.dataset.target === storyId;

                    // Toggle active class
                    item.classList.toggle('story-nav-active', isActive);

                    // Background
                    item.classList.toggle('bg-black', isActive);
                    item.classList.toggle('bg-white', !isActive);
                    item.classList.toggle('border', !isActive);
                    item.classList.toggle('border-neutral-200', !isActive);
                    item.classList.toggle('hover:border-neutral-400', !isActive);

                    // Text colors
                    const dateEl = item.querySelector('.story-date');
                    const titleEl = item.querySelector('.story-title');
                    const teaserEl = item.querySelector('.story-teaser');
                    const thumbEl = item.querySelector('.story-thumb');

                    if (dateEl) {
                        dateEl.classList.toggle('text-primary', isActive);
                        dateEl.classList.toggle('text-neutral-600', !isActive);
                    }
                    if (titleEl) {
                        titleEl.classList.toggle('text-white', isActive);
                        titleEl.classList.toggle('text-neutral-900', !isActive);
                    }
                    if (teaserEl) {
                        teaserEl.classList.toggle('text-neutral-300', isActive);
                        teaserEl.classList.toggle('text-neutral-600', !isActive);
                    }
                    if (thumbEl && !thumbEl.querySelector('img')) {
                        thumbEl.classList.toggle('bg-neutral-800', isActive);
                        thumbEl.classList.toggle('bg-neutral-100', !isActive);
                    }

                    item.setAttribute('aria-current', isActive ? 'true' : 'false');
                });

                // Update counter badge
                if (storyCounter) {
                    storyCounter.textContent = `#${storyId} VON 25`;
                }
            }

            // Add click handlers
            storyNav.querySelectorAll('.story-nav-item').forEach(item => {
                item.addEventListener('click', () => showStory(item.dataset.target));
                item.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        showStory(item.dataset.target);
                    }
                });
            });
        })();
    </script>

    <!-- Zahlen-Grid Expand/Collapse Script -->
    <script>
        (function() {
            const grid = document.getElementById('zahlen-grid');
            if (!grid) return;

            const kacheln = grid.querySelectorAll('.zahlen-kachel');

            kacheln.forEach(kachel => {
                kachel.addEventListener('click', () => {
                    const isExpanded = kachel.dataset.expanded === 'true';
                    const detail = kachel.querySelector('.zahlen-detail');

                    if (isExpanded) {
                        // Collapse
                        kachel.dataset.expanded = 'false';
                        detail.classList.add('hidden');
                        kachel.classList.remove('col-span-3');
                        kachel.style.backgroundColor = '';
                        kachel.style.borderColor = '';

                        // Restore text colors
                        const nummer = kachel.querySelector('.zahlen-nummer');
                        nummer.classList.remove('text-primary');
                        nummer.classList.add('text-black');

                        // Restore detail text color and background
                        detail.classList.remove('text-neutral-400');

                        // Special case for the yellow "?" kachel
                        if (nummer.textContent.trim() === '?') {
                            kachel.classList.add('bg-primary', 'border-primary', 'hover:bg-primary-dark');
                            detail.classList.add('text-amber-900/80');
                        } else {
                            kachel.classList.add('bg-neutral-100', 'border-neutral-200', 'hover:border-primary');
                            detail.classList.add('text-neutral-600');
                        }
                    } else {
                        // Collapse all others first
                        kacheln.forEach(k => {
                            if (k !== kachel && k.dataset.expanded === 'true') {
                                k.dataset.expanded = 'false';
                                const det = k.querySelector('.zahlen-detail');
                                det.classList.add('hidden');
                                k.classList.remove('col-span-3');
                                k.style.backgroundColor = '';
                                k.style.borderColor = '';
                                const num = k.querySelector('.zahlen-nummer');
                                num.classList.remove('text-primary');
                                num.classList.add('text-black');
                                det.classList.remove('text-neutral-400');

                                if (num.textContent.trim() === '?') {
                                    k.classList.add('bg-primary', 'border-primary', 'hover:bg-primary-dark');
                                    det.classList.add('text-amber-900/80');
                                } else {
                                    k.classList.add('bg-neutral-100', 'border-neutral-200', 'hover:border-primary');
                                    det.classList.add('text-neutral-600');
                                }
                            }
                        });

                        // Expand this one
                        kachel.dataset.expanded = 'true';
                        detail.classList.remove('hidden');
                        kachel.classList.add('col-span-3');
                        kachel.classList.remove('bg-neutral-100', 'bg-primary', 'border-neutral-200', 'border-primary', 'hover:bg-primary-dark', 'hover:border-primary');
                        kachel.style.backgroundColor = '#000';
                        kachel.style.borderColor = '#000';

                        // Update text colors
                        const nummer = kachel.querySelector('.zahlen-nummer');
                        nummer.classList.add('text-primary');
                        nummer.classList.remove('text-black');

                        // Update detail text color for expanded state
                        detail.classList.remove('text-neutral-600', 'text-amber-900/80');
                        detail.classList.add('text-neutral-400');
                    }
                });
            });
        })();
    </script>

</body>
</html>
